syntax = "proto3";

option java_multiple_files = true;
option java_package = "org.polypheny.db.protointerface.proto";
option java_outer_classname = "ProtoValueProto";

package polypheny.protointerface;

// Specifies the type of a proto value. This enum contains a value for each datatype supported by the DBMS.
enum ProtoPolyType {
  // Default unspecified type.
  UNSPECIFIED = 0;
  // Boolean type, true or false.
  BOOLEAN = 1;
  // 8-bit integer.
  TINYINT = 2;
  // 16-bit integer.
  SMALLINT = 3;
  // 32-bit integer.
  INTEGER = 4;
  // 64-bit integer.
  BIGINT = 5;
  // Arbitrary precision number.
  DECIMAL = 6;
  // Single precision floating point.
  REAL = 7;
  // Alias for REAL.
  FLOAT = 8;
  // Double precision floating point.
  DOUBLE = 9;
  // Date value.
  DATE = 10;
  // Time value without timezone.
  TIME = 11;
  // Time with local timezone.
  TIME_WITH_LOCAL_TIME_ZONE = 12;
  // Timestamp without timezone.
  TIMESTAMP = 13;
  // Timestamp with local timezone.
  TIMESTAMP_WITH_LOCAL_TIME_ZONE = 14;
  // Interval in seconds.
  INTERVAL_SECOND = 15;
  // Interval in minutes to seconds.
  INTERVAL_MINUTE_SECOND = 16;
  // Interval in minutes.
  INTERVAL_MINUTE = 17;
  // Interval in hours to seconds.
  INTERVAL_HOUR_SECOND = 18;
  // Interval in hours to minutes.
  INTERVAL_HOUR_MINUTE = 19;
  // Interval in hours.
  INTERVAL_HOUR = 20;
  // Interval in days to seconds.
  INTERVAL_DAY_SECOND = 21;
  // Interval in days to minutes.
  INTERVAL_DAY_MINUTE = 22;
  // Interval in days to hours.
  INTERVAL_DAY_HOUR = 23;
  // Interval in days.
  INTERVAL_DAY = 24;
  // Interval in months.
  INTERVAL_MONTH = 25;
  // Interval in years to months.
  INTERVAL_YEAR_MONTH = 26;
  // Interval in years.
  INTERVAL_YEAR = 27;
  // Fixed length character string.
  CHAR = 28;
  // Variable length character string.
  VARCHAR = 29;
  // Binary data.
  BINARY = 30;
  // Variable length binary data.
  VARBINARY = 31;
  // Null type.
  NULL = 32;
  // Array type.
  ARRAY = 33;
  // Map type.
  MAP = 34;
  // Document type.
  DOCUMENT = 35;
  // Graph type.
  GRAPH = 36;
  // Graph node type.
  NODE = 37;
  // Graph edge type.
  EDGE = 38;
  // Graph path type.
  PATH = 39;
  // Image data type.
  IMAGE = 40;
  // Video data type.
  VIDEO = 41;
  // Audio data type.
  AUDIO = 42;
  // File data type.
  FILE = 43;
  // Distinct type (a named scalar type).
  DISTINCT = 44;
  // Structured type.
  STRUCTURED = 45;
  // Row type.
  ROW = 46;
  // Other types not specifically listed.
  OTHER = 47;
  // Cursor type.
  CURSOR = 48;
  // Column list type.
  COLUMN_LIST = 49;
  // Dynamic star type (used for dynamic column projection).
  DYNAMIC_STAR = 50;
  // Geometric data type.
  GEOMETRY= 51;
  // Symbol type.
  SYMBOL = 52;
  // JSON data type.
  JSON = 53;
  // Multiset type.
  MULTISET = 54;
  // Any type (a type that can hold any value).
  ANY = 55;
  // User-defined type.
  USER_DEFINED_TYPE = 56;
  // Row identifier type.
  ROW_ID = 57;
  // Text data type.
  TEXT = 58;
}


/*
ProtoValue represents a single value supported by the DBMS.
It contains a wide range of fields each corresponding to one supported data type.
Only one field can be set at a time.
*/
message ProtoValue {
  oneof value {
    // Field used to represent a boolean. If set, all other fields must be empty.
    ProtoBoolean boolean = 1;
    // Field used to represent an integer. If set, all other fields must be empty.
    ProtoInteger integer = 2;
    // Field used to represent a long integer. If set, all other fields must be empty.
    ProtoLong long = 3;
    // Field used to represent binary data. If set, all other fields must be empty.
    ProtoBinary binary = 4;
    // Field used to represent a date. If set, all other fields must be empty.
    ProtoDate date = 5;
    // Field used to represent a double-precision floating-point number. If set, all other fields must be empty.
    ProtoDouble double = 6;
    // Field used to represent a floating-point number. If set, all other fields must be empty.
    ProtoFloat float = 7;
    // Field used to represent a string. If set, all other fields must be empty.
    ProtoString string = 8;
    // Field used to represent a time. If set, all other fields must be empty.
    ProtoTime time = 9;
    // Field used to represent a timestamp. If set, all other fields must be empty.
    ProtoTimestamp timestamp = 10;
    // Field used to represent a null value. If set, all other fields must be empty.
    ProtoNull null = 11;
    // Field used to represent a BigDecimal. If set, all other fields must be empty.
    ProtoBigDecimal big_decimal = 12;
    // Field used to represent a time interval. If set, all other fields must be empty.
    ProtoInterval interval = 13;
    // Field used to represent a user-defined type. If set, all other fields must be empty.
    ProtoUserDefinedType user_defined_type = 14;
    // Field used to represent a file. If set, all other fields must be empty.
    ProtoFile file = 15;
    // Field used to represent a list. If set, all other fields must be empty.
    ProtoList list = 16;
    // Field used to represent a map. If set, all other fields must be empty.
    ProtoMap map = 17;
    // Field used to represent a document. If set, all other fields must be empty.
    ProtoDocument document = 18;
    // Field used to represent a node (in a graph). If set, all other fields must be empty.
    ProtoNode node = 19;
    // Field used to represent an edge (in a graph). If set, all other fields must be empty.
    ProtoEdge edge = 20;
    // Field used to represent a path (in a graph). If set, all other fields must be empty.
    ProtoPath path = 21; // This is Graph!
    // Field used to represent a graph. If set, all other fields must be empty.
    ProtoGraph graph = 22;
    // Field used to represent a row identifier. If set, all other fields must be empty.
    ProtoRowId row_id= 23;
  }
}


/*
Represents a boolean value.
*/
message ProtoBoolean {
  // A boolean value.
  bool boolean = 1;
}

/*
Represents a 32-bit integer value.
*/
message ProtoInteger {
  // A 32-bit integer value.
  int32 integer = 1;
}

/*
Represents a 64-bit long integer value.
*/
message ProtoLong {
  // A 64-bit long integer value.
  int64 long = 1;
}

/*
Represents binary data.
*/
message ProtoBinary {
  // Binary data.
  bytes binary = 1;
}

/*
Represents a date as a 64-bit integer.
*/
message ProtoDate {
  // Milliseconds since epoch till start of the specified day.
  int64 date = 1;
}

/*
Represents a double precision floating point number.
*/
message ProtoDouble {
  // A double precision floating point number.
  double double = 1;
}

/*
Represents a single precision floating point number.
*/
message ProtoFloat {
  // A single precision floating point number.
  float float = 1;
}

/*
Represents a null value. This message doesnâ€™t contain any fields.
*/
message ProtoNull {
}

/*
Represents a string value.
*/
message ProtoString {
  // A string value.
  string string = 1;
}

/*
Represents a time value.
*/
message ProtoTime {
  // The value of the time
  int32 time = 1;
}


/*
Represents a timestamp value.
*/
message ProtoTimestamp {
  // The timestamp value in milliseconds since epoch.
  int64 timestamp = 1;
}

/*
Represents a BigDecimal value with specified precision and scale.
*/
message ProtoBigDecimal {
  // The scale of the BigDecimal.
  uint32 scale = 1;
  // The precision of the BigDecimal.
  uint32 precision = 2;
  // The unscaled value of the BigDecimal.
  bytes unscaled_value = 3;
}

/*
Represents a structured data type comprising multiple ProtoValue fields.
*/
message ProtoStructured {
  // The list of ProtoValue fields within the structured type.
  repeated ProtoValue fields = 1;
}

/*
Represents an interval value using a BigDecimal.
*/
message ProtoInterval {
  // The BigDecimal value of the interval.
  ProtoBigDecimal value = 1;
}

/*
Defines a user-defined type with a specified template and value.
*/
message ProtoUserDefinedType {
  // The template describing the data type.
  map<string, ProtoPolyType> template = 2;
  // The values corresponding to the user-defined type.
  map<string, ProtoValue> value = 3;
}

/*
Represents a file in byte format.
*/
message ProtoFile {
  // The file in bytes.
  bytes bytes = 1;
}

/*
Represents a list of ProtoValue items.
*/
message ProtoList {
  // The list of ProtoValue items.
  repeated ProtoValue values = 1;
}

/*
Represents a map of ProtoEntry items.
*/
message ProtoMap {
  // The list of ProtoEntry items forming the map.
  repeated ProtoEntry entries = 1;
}

/*
Defines a key-value pair using ProtoValue for both key and value.
*/
message ProtoEntry {
  // The key of the entry.
  ProtoValue key = 1;
  // The value of the entry.
  ProtoValue value = 2;
}

/*
Represents a document consisting of multiple ProtoEntry items.
*/
message ProtoDocument {
  // The list of ProtoEntry items forming the document.
  repeated ProtoEntry entries = 1;
}


/*
Represents an edge in a graph, including its properties, source, target, and direction.
*/
message ProtoEdge {
  // Holds graph properties for the edge.
  ProtoGraphPropertyHolder graph_property_holder = 1;
  // Source node identifier.
  ProtoString source = 2;
  // Target node identifier.
  ProtoString target = 3;
  // Specifies the direction of the edge.
  EdgeDirection edge_direction = 4;

  // Enum defining possible directions of an edge.
  enum EdgeDirection {
    UNSPECIFIED = 0;
    LEFT_TO_RIGHT = 1;
    RIGHT_TO_LEFT = 2;
    NONE = 3;
  }
}

/*
Represents a node in a graph, including its properties.
*/
message ProtoNode {
  // Holds graph properties for the node.
  ProtoGraphPropertyHolder graph_property_holder = 1;
}

/*
Represents a graph entity with nodes and edges, identified by a unique ID and variable name.
*/
message ProtoGraph {
  // Unique identifier for the graph.
  ProtoString id = 1;
  // Variable name associated with the graph.
  ProtoString variable_name = 2;
  // Collection of nodes in the graph.
  ProtoMap nodes = 3;
  // Collection of edges in the graph.
  ProtoMap edges = 4;
}

/*
Represents a path through nodes and edges in a graph, including properties, names, and segments of the path.
*/
message ProtoPath {
  // Nodes present in the path.
  ProtoList nodes = 1;
  // Edges present in the path.
  ProtoList edges = 2;
  // Names associated with the path.
  ProtoList names = 3;
  // Holds graph properties for the paths.
  repeated ProtoGraphPropertyHolder paths = 5;
  // Segments that make up the path.
  repeated ProtoSegment segments = 6;
}


/*
Represents a segment within a path in a graph. A segment typically consists of a source node, an edge, and a target node, along with their identifiers, and it may indicate whether the segment is a reference and the direction of the edge.
*/
message ProtoSegment {
  // Unique identifier for the segment.
  ProtoString id = 1;
  // Variable name associated with the segment.
  ProtoString variable_name = 2;
  // Source node identifier for the segment.
  ProtoString source_id = 3;
  // Edge identifier for the segment.
  ProtoString edge_id = 4;
  // Target node identifier for the segment.
  ProtoString target_id = 5;
  // Source node of the segment.
  ProtoNode source = 6;
  // Edge of the segment.
  ProtoEdge edge = 7;
  // Target node of the segment.
  ProtoNode target = 8;
  // Indicates if the segment is a reference.
  bool is_ref = 9;
  // Specifies the direction of the edge in the segment.
  ProtoEdge.EdgeDirection edge_direction = 10;
}

/*
Holds properties and labels for graph elements, serving as a container for the various attributes that can be associated with nodes, edges, or other graph-related entities.
*/
message ProtoGraphPropertyHolder {
  // Unique identifier for the holder.
  ProtoString id = 1;
  // Variable name associated with the holder.
  ProtoString variable_name = 2;
  // Dictionary of properties.
  ProtoMap properties = 3;
  // List of labels associated with the holder.
  ProtoList labels = 4;
}

/*
Represents the row identifier, typically used to uniquely identify a row in a dataset or a database.
*/
message ProtoRowId {
  // The row identifier.
  string row_id = 1;
}

