{
    "activities": [
        {
            "type": "relExtract",
            "id": "7cf997a2-1d29-446d-b6d9-c9aab9e29c6f",
            "settings": {
                "table": {
                    "namespace": "public",
                    "name": "work"
                }
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 607,
                "posY": 302,
                "name": "Read Work Table",
                "notes": "Contains information about employee position."
            }
        },
        {
            "type": "varToDoc",
            "id": "a6adeff0-db2e-4081-bf4c-8859732de369",
            "settings": {
                "includeWf": false
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 2727.002830257952,
                "posY": 662.6669311959779,
                "name": null,
                "notes": "Imitate the process of logging the validation problem."
            }
        },
        {
            "type": "docFilter",
            "id": "eb39cdf2-2bec-4dac-b2da-e5783022044f",
            "settings": {
                "all": false,
                "filter": {
                    "conditions": [
                        {
                            "field": "title",
                            "operator": "EQUALS",
                            "value": "Financial Report",
                            "ignoreCase": false
                        }
                    ],
                    "targetMode": "EXACT",
                    "combineWithOr": false
                },
                "rejectedHandler": "store",
                "pointer": "",
                "negate": false
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 607,
                "posY": 12,
                "name": null,
                "notes": "Only keep financial reports."
            }
        },
        {
            "type": "relLoad",
            "id": "333ea1ff-f1d6-4da7-8b1c-54992d9488e6",
            "settings": {
                "drop": true,
                "adapter": "hsqldb_disk",
                "keepPk": true,
                "create": true,
                "pkCols": {
                    "include": [],
                    "exclude": [],
                    "unspecifiedIndex": -1
                },
                "table": {
                    "namespace": "demo",
                    "name": "revenue"
                }
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 2739.938169433833,
                "posY": 75.1541301507546,
                "name": null,
                "notes": "This activity is not executed since the verification fails in the previous activity."
            }
        },
        {
            "type": "docToRel",
            "id": "9f8d7aaa-45a7-4bb9-8960-f6e6b9bc6aa9",
            "settings": {
                "mode": "manual",
                "handleMissing": "fail",
                "unspecified": false,
                "columns": {
                    "casts": [
                        {
                            "source": "revenue.month",
                            "target": "month",
                            "type": "VARCHAR",
                            "nullable": true,
                            "collectionsType": "",
                            "precision": 25,
                            "scale": null,
                            "dimension": -1,
                            "cardinality": -1
                        },
                        {
                            "source": "revenue.amount",
                            "target": "amount",
                            "type": "BIGINT",
                            "nullable": true,
                            "collectionsType": "",
                            "precision": null,
                            "scale": null,
                            "dimension": -1,
                            "cardinality": -1
                        }
                    ]
                }
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 1729.2124780904528,
                "posY": 78.8653992160827,
                "name": null,
                "notes": "Map report data to a table."
            }
        },
        {
            "type": "docLookup",
            "id": "876ba69d-348b-4a3f-baa2-740b161d2663",
            "settings": {
                "leftFields": {
                    "include": [
                        "employeeno"
                    ],
                    "exclude": [],
                    "unspecifiedIndex": -1
                },
                "fail": false,
                "rightFields": {
                    "include": [
                        "employeeno"
                    ],
                    "exclude": [],
                    "unspecifiedIndex": -1
                },
                "keepKeys": false,
                "matchType": "EXACT",
                "valueFields": {
                    "include": [
                        "jobrole"
                    ],
                    "exclude": [],
                    "unspecifiedIndex": -1
                },
                "target": ""
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 1191.9066666666668,
                "posY": 84,
                "name": null,
                "notes": "Lookup the job role of the report author."
            }
        },
        {
            "type": "docFilter",
            "id": "5b06a4d7-f67e-4b1f-8c9f-86132130ee5a",
            "settings": {
                "all": false,
                "filter": {
                    "conditions": [
                        {
                            "field": "jobrole",
                            "operator": "EQUALS",
                            "value": "Manager",
                            "ignoreCase": false
                        }
                    ],
                    "targetMode": "EXACT",
                    "combineWithOr": false
                },
                "rejectedHandler": "fail",
                "pointer": "",
                "negate": false
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 2007.3222703718554,
                "posY": 510.0105582713516,
                "name": "Verify Documents",
                "notes": "Ensures only managers can submit financial reports."
            }
        },
        {
            "type": "docCreate",
            "id": "6baa5e0c-69f8-4b2e-b3a4-a0fed1651b77",
            "settings": {
                "json": "[\n  {\n    \"employeeno\": 1,\n    \"title\": \"Project Update\",\n    \"summary\": \"Completed phase 1 of development.\",\n    \"tasks\": [\"Research\", \"Prototype\", \"Testing\"]\n  },\n  {\n    \"employeeno\": 23,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"January\", \"amount\": 12000}\n  },\n  {\n    \"employeeno\": 3,\n    \"title\": \"Client Meeting\",\n    \"summary\": \"Discussed project scope with client X.\",\n    \"next_steps\": [\"Proposal update\", \"Budget review\"]\n  },\n  {\n    \"employeeno\": 23,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"February\", \"amount\": 15500}\n  },\n  {\n    \"employeeno\": 5,\n    \"title\": \"Code Review\",\n    \"summary\": \"Reviewed module A, minor refactoring needed.\",\n    \"issues_found\": 3\n  },\n  {\n    \"employeeno\": 32,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"March\", \"amount\": 14250}\n  },\n  {\n    \"employeeno\": 7,\n    \"title\": \"Market Analysis\",\n    \"summary\": \"Competitor pricing reviewed.\",\n    \"findings\": [\"Slightly higher costs\", \"Better customer support\"]\n  },\n  {\n    \"employeeno\": 32,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"April\", \"amount\": 18000}\n  },\n  {\n    \"employeeno\": 9,\n    \"title\": \"Performance Review\",\n    \"summary\": \"Productivity increased by 10%.\",\n    \"areas_for_improvement\": [\"Time management\"]\n  },\n  {\n    \"employeeno\": 23,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"May\", \"amount\": 17000}\n  },\n  {\n    \"employeeno\": 11,\n    \"title\": \"Incident Report\",\n    \"summary\": \"System outage for 2 hours.\",\n    \"cause\": \"Database overload\"\n  },\n  {\n    \"employeeno\": 23,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"June\", \"amount\": 19000}\n  },\n  {\n    \"employeeno\": 13,\n    \"title\": \"Training Session\",\n    \"summary\": \"Conducted cybersecurity awareness training.\",\n    \"participants\": 15\n  },\n  {\n    \"employeeno\": 15,\n    \"title\": \"Bug Report\",\n    \"summary\": \"Issue with login system.\",\n    \"priority\": \"High\"\n  },\n  {\n    \"employeeno\": 32,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"August\", \"amount\": 17500}\n  },\n  {\n    \"employeeno\": 17,\n    \"title\": \"Customer Feedback\",\n    \"summary\": \"Users appreciate new UI, request more features.\",\n    \"suggestions\": [\"Dark mode\", \"Mobile app improvements\"]\n  },\n  {\n    \"employeeno\": 42,\n    \"title\": \"Financial Report\",\n    \"revenue\": {\"month\": \"September\", \"amount\": 18500}\n  },\n  {\n    \"employeeno\": 19,\n    \"title\": \"Supply Chain Update\",\n    \"summary\": \"Delays in component delivery.\",\n    \"expected_resolution\": \"Next quarter\"\n  }\n]"
            },
            "config": {
                "enforceCheckpoint": false,
                "timeoutSeconds": 0,
                "preferredStores": null,
                "commonType": "NONE",
                "controlStateMerger": "AND_AND"
            },
            "rendering": {
                "posX": 27,
                "posY": 12,
                "name": "Read Reports",
                "notes": "We directly specify a JSON array to be used as an input collection."
            }
        }
    ],
    "edges": [
        {
            "fromId": "876ba69d-348b-4a3f-baa2-740b161d2663",
            "toId": "5b06a4d7-f67e-4b1f-8c9f-86132130ee5a",
            "fromPort": 0,
            "toPort": 0,
            "isControl": false
        },
        {
            "fromId": "9f8d7aaa-45a7-4bb9-8960-f6e6b9bc6aa9",
            "toId": "333ea1ff-f1d6-4da7-8b1c-54992d9488e6",
            "fromPort": 0,
            "toPort": 0,
            "isControl": false
        },
        {
            "fromId": "eb39cdf2-2bec-4dac-b2da-e5783022044f",
            "toId": "876ba69d-348b-4a3f-baa2-740b161d2663",
            "fromPort": 0,
            "toPort": 0,
            "isControl": false
        },
        {
            "fromId": "5b06a4d7-f67e-4b1f-8c9f-86132130ee5a",
            "toId": "333ea1ff-f1d6-4da7-8b1c-54992d9488e6",
            "fromPort": 0,
            "toPort": 0,
            "isControl": true
        },
        {
            "fromId": "7cf997a2-1d29-446d-b6d9-c9aab9e29c6f",
            "toId": "876ba69d-348b-4a3f-baa2-740b161d2663",
            "fromPort": 0,
            "toPort": 1,
            "isControl": false
        },
        {
            "fromId": "5b06a4d7-f67e-4b1f-8c9f-86132130ee5a",
            "toId": "a6adeff0-db2e-4081-bf4c-8859732de369",
            "fromPort": 1,
            "toPort": 0,
            "isControl": true
        },
        {
            "fromId": "6baa5e0c-69f8-4b2e-b3a4-a0fed1651b77",
            "toId": "eb39cdf2-2bec-4dac-b2da-e5783022044f",
            "fromPort": 0,
            "toPort": 0,
            "isControl": false
        },
        {
            "fromId": "876ba69d-348b-4a3f-baa2-740b161d2663",
            "toId": "9f8d7aaa-45a7-4bb9-8960-f6e6b9bc6aa9",
            "fromPort": 0,
            "toPort": 0,
            "isControl": false
        }
    ],
    "config": {
        "preferredStores": {
            "RELATIONAL": "hsqldb_disk",
            "DOCUMENT": "hsqldb_disk",
            "GRAPH": "hsqldb_disk"
        },
        "fusionEnabled": false,
        "pipelineEnabled": false,
        "timeoutSeconds": 0,
        "dropUnusedCheckpoints": false,
        "maxWorkers": 1,
        "pipelineQueueCapacity": 1000,
        "logCapacity": 100
    },
    "variables": {},
    "format_version": "0.0.1"
}
